<?xml version="1.0"?><st-source><!-- Name: TGZNotice: Copyright © 2002 Cincom Systems, Inc.  All Rights Reserved.Comment: Provides TGZArchiver for extracting TGZ archives.  Also provides some convenience methods on Filename.DbIdentifier: bear73DbTrace: 208713DevelopmentPrerequisites: #(#(#any 'TAR' '') #(#any 'Compression-ZLib' ''))PackageName: TGZParcel: #('TGZ')ParcelName: TGZPrerequisiteParcels: #(#('TAR' '') #('Compression-ZLib' ''))PrintStringCache: (7.7 - 1,smichael)Version: 7.7 - 1Date: 7:51:37 AM August 5, 2009 --><time-stamp>From VisualWorks®, Pre-Release 7.7 (aug09.0) of August 5, 2009 on August 5, 2009 at 7:51:37 AM </time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>TGZArchiver</name><environment>Tools</environment><super>Tools.TapeArchiver</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>System-Compression</category><attributes><package>TGZ</package></attributes></class><comment><class-id>Tools.TGZArchiver</class-id><body>Adds the ability to handle compressed archives.  </body></comment><shared-variable><name>TARBlockSize</name><environment>Tools.TGZArchiver</environment><private>false</private><constant>false</constant><category>TAR constants</category><initializer>512</initializer><attributes><package>TGZ</package></attributes></shared-variable><methods><class-id>Tools.TGZArchiver</class-id> <category>archiving</category><body package="TGZ" selector="extractArchive:">extractArchive: tgzFile 	self extractArchive: tgzFile to: tgzFile directory</body><body package="TGZ" selector="extractArchive:to:">extractArchive: tgzFile to: aDirectory 	self 		extractArchive: tgzFile		to: aDirectory		notifying: nil</body><body package="TGZ" selector="extractArchive:to:notifying:">extractArchive: tgzFile to: aDirectory notifying: anObject	self addDependent: anObject.	[| zipStream |	self changed: #untarArchive with: tgzFile.	self changed: #untarArchiveInitialize with: tgzFile fileSize.	zipStream := OS.ZLib.GZipReadStream				on: (tgzFile withEncoding: #binary) readStream.	[self untarStream: zipStream to: aDirectory] ensure: [zipStream close].	self changed: #untarArchiveComplete]		ensure: [self removeDependent: anObject]</body><body package="TGZ" selector="extractStream:to:">extractStream: zippedTarStream to: aDirectory 	self 		extractStream: zippedTarStream		to: aDirectory		notifying: nil</body><body package="TGZ" selector="extractStream:to:notifying:">extractStream: zippedTarStream to: aDirectory notifying: anObject 	self 		untarStream: (OS.ZLib.GZipReadStream on: zippedTarStream)		to: aDirectory		notifying: anObject</body></methods><methods><class-id>OS.Filename</class-id> <category>archiving</category><body package="TGZ" selector="extract">extract	^self extractTo: self directory</body><body package="TGZ" selector="extractTo:">extractTo: aDirectory 	^self extractTo: aDirectory notifying: nil</body><body package="TGZ" selector="extractTo:notifying:">extractTo: aDirectory notifying: anObject 	^Tools.TGZArchiver new 		extractArchive: self		to: aDirectory		notifying: anObject</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>Filename</name><environment>OS</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>osName publicName logicalName </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>OS-Support</category><attributes><package>OS-Support</package></attributes></class><class><name>TapeArchiver</name><environment>Tools</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>buffer dialogParentWindow errorPolicy fileAttributes incrementAspect overwritePolicy updateIncrement </inst-vars><class-inst-vars></class-inst-vars><imports>			private OS.IOConstants.*			</imports><category>System-Compression</category><attributes><package>TAR</package></attributes></class></st-source>