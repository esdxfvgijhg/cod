<?xml version="1.0"?><st-source><!-- Name: PDPMenuShortcutEditorComment: This goodie adds a setting to the Debugger page of the Settings tool to change keyboard shortcuts of commands on the Execute menu of the debugger, such as Step, Run, etc.DbIdentifier: bear73DbTrace: 51140DevelopmentPrerequisites: #(#(#any 'PDPDebug' '') #(#any 'UIPainter' ''))PackageName: PDPMenuShortcutEditorParcel: #('PDPMenuShortcutEditor')PrerequisiteParcels: #(#('PDPDebug' '') #('UIPainter' ''))PrintStringCache: (1.2,vbykov)Version: 1.2Date: 7:40:26 AM August 5, 2009 --><time-stamp>From VisualWorksÂ®, Pre-Release 7.7 (aug09.0) of August 5, 2009 on August 5, 2009 at 7:40:26 AM </time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>MenuPropertyEditor</name><environment>CraftedSmalltalk</environment><super>Tools.MenuEditor</super><private>false</private><indexed-type>none</indexed-type><inst-vars>menuHolder </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>(none)</category><attributes><package>PDPMenuShortcutEditor</package></attributes></class><comment><class-id>CraftedSmalltalk.MenuPropertyEditor</class-id><body></body></comment><methods><class-id>CraftedSmalltalk.MenuPropertyEditor</class-id> <category>initialize-release</category><body package="PDPMenuShortcutEditor" selector="onHolder:">onHolder: aMenuHolder	menuHolder := aMenuHolder.	self openInterface: #editorSpec.	self initializeFromMenu: menuHolder value.</body></methods><methods><class-id>CraftedSmalltalk.MenuPropertyEditor</class-id> <category>menus</category><body package="PDPMenuShortcutEditor" selector="itemsMenu">itemsMenu	^Menu new</body></methods><methods><class-id>CraftedSmalltalk.MenuPropertyEditor</class-id> <category>actions</category><body package="PDPMenuShortcutEditor" selector="accept">accept	menuHolder value: menu literalArrayEncoding.	modified := false.	self closeRequest.</body><body package="PDPMenuShortcutEditor" selector="resetToDefault">resetToDefault	menuHolder value: nil.	modified := false.	self closeRequest.</body></methods><methods><class-id>CraftedSmalltalk.MenuPropertyEditor class</class-id> <category>instance creation</category><body package="PDPMenuShortcutEditor" selector="onHolder:">onHolder: aMenuHolder	^self new onHolder: aMenuHolder</body></methods><methods><class-id>CraftedSmalltalk.DebuggerClient class</class-id> <category>menu shortcuts</category><body package="PDPMenuShortcutEditor" selector="editShortcuts">editShortcuts	#{MenuPropertyEditor}		ifDefinedDo: [:editor | editor onHolder: self menuHolder]		elseDo: [Dialog warn: 'You must have UIPainter loaded to modify the debugger shortcuts']</body></methods><methods><class-id>CraftedSmalltalk.MenuPropertyEditor class</class-id> <category>interface specs</category><body package="PDPMenuShortcutEditor" selector="editorSpec">editorSpec	"Tools.UIPainter new openOnClass: self andSelector: #editorSpec"	&lt;resource: #canvas&gt;	^#(#{UI.FullSpec} 		#window: 		#(#{UI.WindowSpec} 			#label: 'Menu Editor' 			#min: #(#{Core.Point} 40 20 ) 			#bounds: #(#{Graphics.Rectangle} 640 512 1202 877 ) ) 		#component: 		#(#{UI.SpecCollection} 			#collection: #(				#(#{UI.SequenceViewSpec} 					#layout: #(#{Graphics.LayoutFrame} 1 0 1 0 -1 0.4 -50 1 ) 					#name: #menuList 					#flags: 15 					#model: #menuList 					#tabable: true 					#menu: #itemsMenu 					#multipleSelections: true 					#useModifierKeys: true 					#selectionType: #highlight ) 				#(#{UI.SubCanvasSpec} 					#layout: #(#{Graphics.LayoutFrame} 0 0.4 0 0 0 1 -50 1 ) 					#name: #Subcanvas1 					#majorKey: #{Tools.MenuEditor} 					#minorKey: #detailSlice ) 				#(#{UI.ActionButtonSpec} 					#layout: #(#{Graphics.LayoutSizedOrigin} -120 1 -34 1 100 23 ) 					#name: #ActionButton1 					#model: #accept 					#label: 'Accept' 					#defaultable: true ) 				#(#{UI.ActionButtonSpec} 					#layout: #(#{Graphics.LayoutSizedOrigin} 20 0 -34 1 100 23 ) 					#name: #ActionButton3 					#model: #resetToDefault 					#label: 'Reset to default' 					#defaultable: true ) 				#(#{UI.ActionButtonSpec} 					#layout: #(#{Graphics.LayoutSizedOrigin} -250 1 -34 1 100 23 ) 					#name: #ActionButton2 					#model: #closeRequest 					#label: 'Cancel' 					#defaultable: true ) ) ) )</body></methods><methods><class-id>Tools.VisualWorksSettings class</class-id> <category>settings-debugger</category><body package="PDPMenuShortcutEditor" selector="debugger20EditShortcuts">debugger20EditShortcuts	&lt;setting: #(tools debugger editShortcuts)&gt;	^ExternalSetting new		label: #KeyboardShortcuts &lt;&lt; #labels &gt;&gt; 'Keyboard shortcuts';		editorBlock: [CraftedSmalltalk.DebuggerClient editShortcuts];		helpText: #EditShortcutsHelpText &lt;&lt; #dialogs &gt;&gt; 'Edit the Execute menu definition, to change the shortcut keys associated with various stepping commands. This setting is not saved together with the settings of the image.'</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>MenuEditor</name><environment>Tools</environment><super>Tools.UIPainterWatcher</super><private>false</private><indexed-type>none</indexed-type><inst-vars>targetClass targetSelector menu menuBar menuBarView menuList currentItem modified properties </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>UIPainter-Tools</category><attributes><package>UIPainter</package></attributes></class></st-source>