<?xml version="1.0"?><st-source><!-- Name: VRExamplesNotice: Copyright © 2002 Cincom Systems, Inc.  All Rights Reserved.Comment: This package comtains some example usage of the VR UI Painter toolsDevelopmentPrerequisites: #(#(#any 'VRUIPainter' ''))PackageName: VRExamplesParcel: #('VRExamples')ParcelName: VRExamplesPrerequisiteParcels: #(#('VRUIPainter' ''))Version: 7Date: 10:25:35 AM November 19, 2015 --><time-stamp>From VisualWorks®, 8.1 of July 17, 2015 on November 19, 2015 at 10:25:35 AM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>TestPForm</name><environment>UI</environment><super>UI.VRDetailForm</super><private>false</private><indexed-type>none</indexed-type><inst-vars>id name salary </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>VR-Tables</category><attributes><package>VRExamples</package></attributes></class><comment><class-id>UI.TestPForm</class-id><body>Sample Form</body></comment><class><name>TestPTableForm</name><environment>UI</environment><super>UI.VRTableForm</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>VR-Tables</category><attributes><package>VRExamples</package></attributes></class><comment><class-id>UI.TestPTableForm</class-id><body>Sample Tabular FormInstance Variables:</body></comment><class><name>VRTableExamplePerson</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>id name salary </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>VR-Tables</category><attributes><package>VRExamples</package></attributes></class><comment><class-id>UI.VRTableExamplePerson</class-id><body>This is the sample domain object for the examples here.  See class side protocol for getting small lists of themInstance Variables: id		&lt;Number&gt;name		&lt;String&gt;salary		&lt;Number&gt;</body></comment><class><name>VRTableExamplePersonForm</name><environment>Smalltalk</environment><super>UI.VRDetailForm</super><private>false</private><indexed-type>none</indexed-type><inst-vars>id name salary </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Test</category><attributes><package>VRExamples</package></attributes></class><comment><class-id>VRTableExamplePersonForm</class-id><body>This is the auto-generated comment for class #VRTableExamplePersonForm.  This comment should be edited for accuracyInstance Variables: id		&lt;a SmallInteger&gt;name		&lt;a ByteString&gt;salary		&lt;a SmallInteger&gt;</body></comment><class><name>VRTableExample</name><environment>UI</environment><super>UI.JARApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>webTable chartType </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>VR-Tables</category><attributes><package>VRExamples</package></attributes></class><comment><class-id>UI.VRTableExample</class-id><body>This is an example of tabular form usage in the VRTable FrameworkInstance Variables:	webTable	&lt;Symbol&gt;	The table being held	chartType	&lt;Symbol&gt;	A chart</body></comment><methods><class-id>UI.TestPForm</class-id> <category>accessing</category><body package="VRExamples">id	^id</body><body package="VRExamples">model	^model</body><body package="VRExamples">model: aValue	model := aValue</body><body package="VRExamples">name	^name</body><body package="VRExamples">salary	^salary</body></methods><methods><class-id>UI.TestPForm</class-id> <category>initialize-release</category><body package="VRExamples">initialize	"UIDefiner defined this method.	Do NOT modify this method; place custom code in &lt;initializeApplication&gt;"	super initialize.	self model: VRTableExamplePerson new asValue.	self initializeAspects.	self initializeApplication.</body><body package="VRExamples">initializeApplication	"UIDefiner defined this method.	UIDefiner will not recreate this method, so all custom initialization code should be placed here."</body><body package="VRExamples">initializeAspects	"Preset all aspects.  UIDefiner will overwrite this method"		id:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #id).		name:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #name).		salary:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #salary).</body></methods><methods><class-id>UI.TestPTableForm</class-id> <category>specs</category><body package="VRExamples">tableSpec	"Table Definition defined by VRFormGenerator V2.0"	^#(#('id' 'name' 'salary') #(#id #name #salary) #(150 150 150))</body></methods><methods><class-id>UI.TestPTableForm class</class-id> <category>As yet unclassified</category><body package="VRExamples">with: aList	"instantiates the table with the collection aList.  Must still be opened"	| inst |	inst := self new.	inst initializeTable: aList.	^inst</body></methods><methods><class-id>UI.VRTableExamplePerson</class-id> <category>displaying</category><body package="VRExamples">displayString	^self name</body></methods><methods><class-id>UI.VRTableExamplePerson</class-id> <category>accessing</category><body package="VRExamples">id	^id</body><body package="VRExamples">id: aValue	id := aValue.	self changed: #id</body><body package="VRExamples">name	^name</body><body package="VRExamples">name: aValue	name := aValue.	self changed: #name</body><body package="VRExamples">salary	^salary</body><body package="VRExamples">salary: aValue	salary := aValue.	self changed: #salary</body></methods><methods><class-id>UI.VRTableExamplePerson</class-id> <category>initialize-release</category><body package="VRExamples">initialize	"This is an auto-generated initialize method.  It should be updated"	self id: 0.	self name: ''.	self salary: 0.</body></methods><methods><class-id>UI.VRTableExamplePerson</class-id> <category>print support</category><body package="VRExamples">printOn: aStream	aStream nextPutAll: self name</body><body package="VRExamples">printOntoStream: aStream forRecord: aNumber	aStream indent: 15.	aStream nextPutAll: 'Record Number: ', aNumber printString.	aStream cr.	aStream nextPutAll: 'id' width: 10.	aStream nextPutAll: self id printString.	aStream cr.	aStream nextPutAll: 'name' width: 10.	aStream nextPutAll: self name.	aStream cr.	aStream nextPutAll: 'salary' width: 10.	aStream nextPutAll: self salary printString.	aStream cr.	^4</body></methods><methods><class-id>UI.VRTableExamplePerson class</class-id> <category>As yet unclassified</category><body package="VRExamples">example	"answer a list of objects"	| list |	list := List new.	1 to: 54 do: [:i | list add: (self getSample: i)].	^list</body><body package="VRExamples">getSample: aNumber	"answer a sample object"	| inst |	inst := self new.	inst id: aNumber.	inst name: 'Fred', aNumber printString.	inst salary: (aNumber * 10000).	^inst</body></methods><methods><class-id>UI.VRTableExamplePerson class</class-id> <category>instance creation</category><body package="VRExamples">new	^super new initialize</body></methods><methods><class-id>VRTableExamplePersonForm</class-id> <category>accessing</category><body package="VRExamples">id	^id</body><body package="VRExamples">model	^model</body><body package="VRExamples">model: aValue	model := aValue</body><body package="VRExamples">name	^name</body><body package="VRExamples">salary	^salary</body></methods><methods><class-id>VRTableExamplePersonForm</class-id> <category>initialize-release</category><body package="VRExamples">initialize	"UIDefiner defined this method.	Do NOT modify this method; place custom code in &lt;initializeApplication&gt;"	super initialize.	self model: VRTableExamplePerson new asValue.	self initializeAspects.	self initializeApplication.</body><body package="VRExamples">initializeApplication	"UIDefiner defined this method.	UIDefiner will not recreate this method, so all custom initialization code should be placed here."</body><body package="VRExamples">initializeAspects	"Preset all aspects.  UIDefiner will overwrite this method"		id:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #id).		name:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #name).		salary:= ((AspectAdaptor subjectChannel: self model			sendsUpdates: true)	forAspect: #salary).</body></methods><methods><class-id>VRTableExamplePersonForm class</class-id> <category>accessing</category><body package="VRExamples">uiDomainModelName	"UIDefiner defined this method.	This method is used internally by UIDefiner"	^VRTableExamplePerson</body></methods><methods><class-id>UI.VRTableExample</class-id> <category>accessing</category><body package="VRExamples">chart	"navigate to a chart"	| form |	form := (Smalltalk at:#DemoChartForm) new.	form parent: self.	form data value: (self salaryList).	self open: form interface: self chartType value</body><body package="VRExamples">chartType	"This method was generated by UIDefiner.  Any edits made here	may be lost whenever methods are automatically defined.  The	initialization provided below may have been preempted by an	initialize method."	^chartType isNil		ifTrue:			[chartType := nil asValue]		ifFalse:			[chartType]</body><body package="VRExamples">salaryList	"answer a list of salaries"	| newList listOfData |	newList := List new.	listOfData := self webTable getData.	listOfData do: [:each |		newList add: each salary].	^newList</body></methods><methods><class-id>UI.VRTableExample</class-id> <category>initialize-release</category><body package="VRExamples">initialize	"set up defaults"	super initialize.	self chartType value: #barSpec</body></methods><methods><class-id>UI.VRTableExample</class-id> <category>specs</category><body package="VRExamples">webTable	"This method was generated by UIDefiner.  Any edits made here	may be lost whenever methods are automatically defined.  The	initialization provided below may have been preempted by an	initialize method."	^webTable isNil		ifTrue:			[webTable := VRTableViewer example1]		ifFalse:			[webTable]</body></methods><methods><class-id>UI.TestPForm class</class-id> <category>As yet unclassified</category><body package="VRExamples">windowSpec	"UIPainter new openOnClass: TestPForm andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#min: #(#Point 40 20 ) 			#bounds: #(#Rectangle 10 20 300 300 ) 			#isEventDriven: true ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#LabelSpec 					#layout: #(#Point 5 10 ) 					#name: #id 					#label: 'id' ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 105 10 255 35 ) 					#name: #id 					#model: #id 					#type: #number 					#formatString: '0' ) 				#(#LabelSpec 					#layout: #(#Point 5 50 ) 					#name: #name 					#label: 'name' ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 105 50 255 75 ) 					#name: #name 					#model: #name 					#type: #string ) 				#(#LabelSpec 					#layout: #(#Point 5 90 ) 					#name: #salary 					#label: 'salary' ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 105 90 255 115 ) 					#name: #salary 					#model: #salary 					#type: #number 					#formatString: '$#,##0;-$#,##0' ) ) ) )</body></methods><methods><class-id>UI.TestPTableForm class</class-id> <category>As yet unclassified</category><body package="VRExamples">windowSpec	"UIPainter new openOnClass: TestPTableForm andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Table View' 			#bounds: #(#Rectangle 119 114 681 486 ) 			#isEventDriven: true ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#SubCanvasSpec 					#layout: #(#LayoutFrame 0 0.00533808 0 0.00268817 0 0.998221 0 0.981183 ) 					#name: #webTable 					#flags: 0 					#majorKey: #VRTableViewer 					#minorKey: #windowSpec 					#clientKey: #webTable ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.00355872 0 0.913978 0 0.133452 0 0.997312 ) 					#name: #edit 					#model: #edit 					#label: '&amp;Edit' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.259786 0 0.913978 0 0.38968 0 0.997312 ) 					#name: #add 					#model: #add 					#label: '&amp;Add' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.3879 0 0.913978 0 0.517794 0 0.997312 ) 					#name: #remove 					#model: #remove 					#label: '&amp;Remove' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.131673 0 0.913978 0 0.261566 0 0.997312 ) 					#name: #editAll 					#model: #editAll 					#label: 'E&amp;dit All' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.868327 0 0.913978 0 0.998221 0 0.997312 ) 					#name: #exit 					#model: #closeRequest 					#label: 'E&amp;xit' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.516014 0 0.913978 0 0.645907 0 0.997312 ) 					#name: #save 					#model: #save 					#label: '&amp;Save' 					#defaultable: true ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.644128 0 0.913978 0 0.774021 0 0.997312 ) 					#name: #print 					#model: #print 					#label: '&amp;Print' 					#defaultable: true ) ) ) )</body></methods><methods><class-id>VRTableExamplePersonForm class</class-id> <category>interface specs</category><body package="VRExamples">windowSpec	"UIPainter new openOnClass: VRTableExamplePersonForm andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#{UI.FullSpec} 		#window: 		#(#{UI.WindowSpec} 			#min: #(#{Core.Point} 40 20 ) 			#bounds: #(#{Graphics.Rectangle} 10 20 300 300 ) 			#isEventDriven: true ) 		#component: 		#(#{UI.SpecCollection} 			#collection: #(				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 5 10 ) 					#name: #idLabel 					#label: 'id' ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 105 10 255 35 ) 					#name: #id 					#model: #id 					#type: #number 					#formatString: '0' ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 5 55 ) 					#name: #nameLabel 					#label: 'name' ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 105 55 255 80 ) 					#name: #name 					#model: #name 					#type: #string ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 5 100 ) 					#name: #salaryLabel 					#label: 'salary' ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 105 100 255 125 ) 					#name: #salary 					#model: #salary 					#type: #number 					#formatString: '$#,##0;-$#,##0' ) ) ) )</body></methods><methods><class-id>UI.VRTableExample class</class-id> <category>As yet unclassified</category><body package="VRExamples">chartMenu	"MenuEditor new openOnClass: self andSelector: #chartMenu"	&lt;resource: #menu&gt;	^#(#Menu #(			#(#MenuItem 				#rawLabel: 'Bar' 				#nameKey: #bar 				#value: #barSpec ) 			#(#MenuItem 				#rawLabel: 'Pie' 				#nameKey: #pie 				#value: #pieSpec ) ) #(2 ) nil ) decodeAsLiteralArray</body><body package="VRExamples">JAMESRwindowSpec	"UIPainter new openOnClass: self andSelector: #JAMESRwindowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Table Example' 			#bounds: #(#Rectangle 46 72 634 440 ) 			#isEventDriven: true ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#SubCanvasSpec 					#layout: #(#Rectangle 1 83 589 369 ) 					#name: #webTable 					#flags: 0 					#majorKey: #VRTableViewer 					#minorKey: #windowSpec 					#clientKey: #webTable ) 				#(#LabelSpec 					#properties: #(#PropertyListDictionary #anchorType #anchorDestination #url 'http://localhost:8008/launch/WebDemo' ) 					#layout: #(#Point 261 8 ) 					#name: #demoPage 					#label: 'Demo Page...' ) 				#(#MenuButtonSpec 					#layout: #(#LayoutFrame 0 0.0136054 0 0.0190217 0 0.239796 0 0.0978261 ) 					#name: #chartType 					#model: #chartType 					#menu: #chartMenu ) 				#(#ActionButtonSpec 					#layout: #(#LayoutFrame 0 0.0136054 0 0.144022 0 0.178571 0 0.228261 ) 					#name: #chart 					#model: #chart 					#label: 'Chart' 					#defaultable: true ) ) ) )</body><body package="VRExamples">windowSpec	"UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Web Table Example' 			#bounds: #(#Rectangle 25 68 613 436 ) 			#isEventDriven: true ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#SubCanvasSpec 					#layout: #(#Rectangle 2 3 588 263 ) 					#name: #webTable 					#flags: 0 					#majorKey: #VRTableViewer 					#minorKey: #windowSpec 					#clientKey: #webTable ) 				#(#ActionButtonSpec 					#layout: #(#Rectangle 204 269 354 290 ) 					#model: #closeRequest 					#label: 'Click here when done!' 					#defaultable: true ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>Model</name><environment>UI</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>dependents </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Kernel-Objects</category><attributes><package>Kernel-Objects</package></attributes></class><class><name>JARApplicationModel</name><environment>UI</environment><super>UI.CommonApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>model trigger dialogBuilder </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Abstract-Models-Base</category><attributes><package>VRForms</package></attributes></class><class><name>VRTableForm</name><environment>UI</environment><super>UI.VRDBApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>webTable windowLabel domainFormClass printHeader printType tableSpec </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Form-Deployment</category><attributes><package>VRForms</package></attributes></class><class><name>VRDetailForm</name><environment>UI</environment><super>UI.VRDBApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>editMode parent owner windowLabel </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Form-Deployment</category><attributes><package>VRForms</package></attributes></class></st-source>