<?xml version="1.0"?><st-source><!-- Name: FileProgressDbIdentifier: bear73DbTrace: 3123PackageName: FileProgressParcel: #('FileProgress')PrintStringCache: (5i 1.2,daves)Version: 5i 1.2Date: 6:30:11 AM August 5, 2009 --><time-stamp>From VisualWorksÂ®, Pre-Release 7.7 (aug09.0) of August 5, 2009 on August 5, 2009 at 6:30:11 AM </time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><methods><class-id>OS.Filename</class-id> <category>file utilities</category><body package="FileProgress" selector="copyTo:reportProgressTo:">copyTo: destName reportProgressTo: anObject	"Copy the file whose name is the receiver to a file named destName, notifying anObject of bytes copied."	[self			addDependent: anObject;			copyTo: destName]		ensure: [self removeDependent: anObject]</body></methods><methods><class-id>OS.Filename</class-id> <category>private</category><body package="FileProgress" selector="privateCopyFrom:to:">privateCopyFrom: sourceAccessor to: destinationAccessor 		[| buffer bufferSize amountRead |	bufferSize := sourceAccessor bufferSize.	buffer := ByteArray new: bufferSize.	"Copy until we read zero bytes"	[(amountRead := sourceAccessor readInto: buffer) &gt; 0] whileTrue: 			[destinationAccessor writeFrom: buffer				startingAt: 1				forSure: amountRead.			self changed: #bytesCopied with: amountRead]]		ensure: 			[sourceAccessor close.			destinationAccessor close]</body></methods><methods><class-id>OS.LogicalFilename</class-id> <category>file utilities</category><body package="FileProgress" selector="copyTo:reportProgressTo:">copyTo: destName reportProgressTo: anObject	"Copy the file whose name is the receiver to a file named destName."	^self asFilename copyTo: destName reportProgressTo: anObject</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>Filename</name><environment>OS</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>osName publicName logicalName </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>OS-Support</category><attributes><package>OS-Support</package></attributes></class><class><name>LogicalFilename</name><environment>OS</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>components </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>OS-Support</category><attributes><package>OS-Support</package></attributes></class></st-source>