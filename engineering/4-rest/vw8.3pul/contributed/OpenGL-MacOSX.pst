<?xml version="1.0"?><st-source><!-- Name: OpenGL-MacOSXNotice: Copyright (c) 2007-2008 Michael Lucas-SmithPermission is hereby granted, free of charge, to any personobtaining a copy of this software and associated documentationfiles (the "Software"), to deal in the Software withoutrestriction, including without limitation the rights to use,copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom theSoftware is furnished to do so, subject to the followingconditions:The above copyright notice and this permission notice shall beincluded in all copies or substantial portions of the Software.THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIESOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE ANDNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHTHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISINGFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OROTHER DEALINGS IN THE SOFTWARE.Comment: OpenGL - Cross Platform 3D Graphics. This package provides the interface to run OpenGL on MacOSX 10.5.DbIdentifier: bear73DbTrace: 460429DbUsername: ablakeyDbVersion: 3.0 26DevelopmentPrerequisites: #(#(#any 'DLLCC' '') #(#any 'Graphics-Images-FixedPalettes' '') #(#any 'OpenGL' '') #(#any 'ObjectiveCConnect' ''))ExplicitPrerequisites: #()IgnoredPrerequisites: #()Namespace: Smalltalk.CocoaPackageName: OpenGL-MacOSXParcel: #('OpenGL-MacOSX')ParcelName: OpenGL-MacOSXPrerequisiteParcels: #(#('DLLCC' '') #('Graphics-Images-FixedPalettes' '') #('OpenGL' '') #('ObjectiveCConnect' ''))PrintStringCache: (3.0 26,ablakey)Version: 3.0 26Date: 9:59:53 AM April 10, 2015 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.1 (apr15.1) of April 10, 2015 on April 10, 2015 at 9:59:53 AM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><name-space><name>Cocoa</name><environment>Smalltalk</environment><private>false</private><imports>			private Smalltalk.*			private OpenGL.*			private Root.ObjectiveC.*			</imports><category>OpenGL</category><attributes><package>OpenGL-MacOSX</package></attributes></name-space><class><name>RenderContextCocoa</name><environment>Cocoa</environment><super>OpenGL.RenderContext</super><private>false</private><indexed-type>none</indexed-type><inst-vars>context </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL-MacOSX</package></attributes></class><comment><class-id>Cocoa.RenderContextCocoa</class-id><body>RenderContextCocoa is the abstract superclass for Windows and Pixmaps on MacOSX for OpenGLSubclasses must implement the following messages:	initialize-release		defaultPixelFormatAttributesInstance Variables:	context	&lt;&gt;	description of context</body></comment><class><name>RenderContextCocoaPixmap</name><environment>Cocoa</environment><super>Cocoa.RenderContextCocoa</super><private>false</private><indexed-type>none</indexed-type><inst-vars>bufferPointer image </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL-MacOSX</package></attributes></class><comment><class-id>Cocoa.RenderContextCocoaPixmap</class-id><body>RenderContextCocoaPixmap is a MacOSX Quartz surface we can render OpenGL on to.Instance Variables	bufferPointer	&lt;CPointer&gt;	description of bufferPointer	context	&lt;&gt;	description of context	image	&lt;Image&gt;	description of image	pixelFormat	&lt;&gt;	description of pixelFormat	pixelFormatAttributes	&lt;Object | WeakProxy&gt;	description of pixelFormatAttributes</body></comment><class><name>RenderContextCocoaImage</name><environment>Cocoa</environment><super>Cocoa.RenderContextCocoa</super><private>false</private><indexed-type>none</indexed-type><inst-vars>framebuffer </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL-MacOSX</package></attributes></class><comment><class-id>Cocoa.RenderContextCocoaImage</class-id><body>SurfaceCocoaImage is an offscreen surface we can render OpenGL with and copy the framebuffer data back in to a Smalltalk Image object.Instance Variables:	framebuffer	&lt;FrameBuffer&gt;	description of framebuffer</body></comment><class><name>RenderContextCocoaFloatArray</name><environment>Cocoa</environment><super>Cocoa.RenderContextCocoaImage</super><private>false</private><indexed-type>none</indexed-type><inst-vars>extent texture downloadBuffer </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL-MacOSX</package></attributes></class><comment><class-id>Cocoa.RenderContextCocoaFloatArray</class-id><body>RenderContextCocoaFloatArray is an offscreen surface we can render OpenGL with and copy the framebuffer data back in to a FloatArray object.Instance Variables:	downloadBuffer	&lt;Buffer&gt;	description of downloadBuffer	extent	&lt;Point&gt;	description of extent	texture	&lt;Texture&gt;	description of texture</body></comment><class><name>RenderContextCocoaWindow</name><environment>Cocoa</environment><super>Cocoa.RenderContextCocoa</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL-MacOSX</package></attributes></class><comment><class-id>Cocoa.RenderContextCocoaWindow</class-id><body>RenderContextCocoaWindow is a MacOSX Quartz surface we can render OpenGL on to.Instance Variables	context	&lt;Object | WeakProxy&gt;	description of context	objc	&lt;ObjectiveCRuntime&gt;	description of objc	pixelFormat	&lt;Object | WeakProxy&gt;	description of pixelFormat	pixelFormatAttributes	&lt;Object | WeakProxy&gt;	description of pixelFormatAttributes	viewRef	&lt;Object | WeakProxy&gt;	description of viewRef	windowRef	&lt;Object&gt;	description of windowRef</body></comment><shared-variable><name>NSOpenGLPFASampleBuffers</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>55</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFARobust</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>75</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAuxDepthStencil</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>57</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPSurfaceOrder</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>235</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFACompliant</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>83</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAClosestPolicy</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>74</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAStereo</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>6</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFADepthSize</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>12</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFARendererID</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>70</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAStencilSize</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>13</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPSwapRectangle</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>200</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAlphaSize</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>11</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAWindow</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>80</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAccumSize</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>14</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAuxBuffers</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>7</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAVirtualScreenCount</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>128</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>CocoaInterfaceDictionary</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>As yet unclassified</category><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPSurfaceOpacity</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>236</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAMultiScreen</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>81</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAMinimumPolicy</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>51</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFABackingStore</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>76</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAOpenGLProfile</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>99</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAScreenMask</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>84</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAMPSafe</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>78</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPRasterizationEnable</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>221</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAPixelBuffer</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>90</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAFullScreen</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>54</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPStateValidation</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>301</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFANoRecovery</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>72</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAllRenderer</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>1</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAColorSize</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>8</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAOffScreen</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>53</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLProfileVersion3_2Core</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>16r3200</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFASamples</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>56</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPSwapRectangleEnabled</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>201</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAAccelerated</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>73</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFAMaximumPolicy</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>52</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLProfileVersionLegacy</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>16r1000</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFADoubleBuffer</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>5</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLCPSwapInterval</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLContextParameter</category><initializer>222</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><shared-variable><name>NSOpenGLPFASingleRenderer</name><environment>Cocoa</environment><private>false</private><constant>false</constant><category>NSOpenGLPixelFormatAttribute</category><initializer>71</initializer><attributes><package>OpenGL-MacOSX</package></attributes></shared-variable><methods><class-id>Cocoa.RenderContextCocoa</class-id> <category>initialize-release</category><body package="OpenGL-MacOSX">initializeContext	| pixelFormat |	context := NSOpenGLContext alloc.	pixelFormat := NSOpenGLPixelFormat alloc.	pixelFormat initWithAttributes: self defaultPixelFormatAttributes.	context initWithFormat: pixelFormat shareContext: nil.	pixelFormat release</body><body package="OpenGL-MacOSX">initializeInterface	interface := OpenGLInterface new</body><body package="OpenGL-MacOSX">release	context clearDrawable.	context release.	super release</body></methods><methods><class-id>Cocoa.RenderContextCocoa</class-id> <category>accessing</category><body package="OpenGL-MacOSX">isVSyncEnabled	| values result |	values := CIntegerType int malloc.	context getValues: values forParameter: NSOpenGLCPSwapInterval.	result := values contents &gt; 0.	values free.	^result</body><body package="OpenGL-MacOSX">isVSyncEnabled: aBoolean	| values |	values := CIntegerType int malloc.	values contents: (aBoolean ifTrue: [1] ifFalse: [0]).	context setValues: values forParameter: NSOpenGLCPSwapInterval.	values free</body></methods><methods><class-id>Cocoa.RenderContextCocoa</class-id> <category>private</category><body package="OpenGL-MacOSX">activateContext	"Call directly because NSOpenGLContext will run in the main thread, we've locked it for all threads and we want to run the OpenGL code in VM thread."	ObjectiveCRuntime object: context __id perform: #makeCurrentContext</body><body package="OpenGL-MacOSX">deactivateContext	ObjectiveCRuntime object: NSOpenGLContext __id perform: #clearCurrentContext</body><body package="OpenGL-MacOSX">defaultPixelFormatAttributes	^self subclassResponsibility</body></methods><methods><class-id>Cocoa.RenderContextCocoaPixmap</class-id> <category>private</category><body package="OpenGL-MacOSX">activateContext	context setOffScreen: bufferPointer width: view width height: view height rowbytes: view width * view bitsPerPixel / 8.	context update.	super activateContext</body><body package="OpenGL-MacOSX">dataSize	^view height * view width * view bitsPerPixel / 8</body><body package="OpenGL-MacOSX">defaultPixelFormatAttributes	| attributes |	attributes := CIntegerType int gcMalloc: 4.	attributes at: 0 put: NSOpenGLPFAOffScreen.	attributes at: 1 put: NSOpenGLPFADepthSize.	attributes at: 2 put: view depth.	attributes at: 3 put: 0.	^attributes</body></methods><methods><class-id>Cocoa.RenderContextCocoaPixmap</class-id> <category>initialize-release</category><body package="OpenGL-MacOSX">initializeContext	super initializeContext.	image := view asImage convertToPalette: FixedPalette BGRA_8888.	bufferPointer := CIntegerType unsignedInt gcMalloc: self dataSize.	bufferPointer copyAt: 0 from: image bitsInstVar size: self dataSize startingAt: 1</body></methods><methods><class-id>Cocoa.RenderContextCocoaPixmap</class-id> <category>api</category><body package="OpenGL-MacOSX">flush	interface Flush.	bufferPointer copyAt: 0 to: image bitsInstVar size: self dataSize startingAt: 1.	view graphicsContext copyImage: image to: 0@0</body><body package="OpenGL-MacOSX">resize	self notYetImplemented</body></methods><methods><class-id>Cocoa.RenderContextCocoaPixmap class</class-id> <category>private</category><body package="OpenGL-MacOSX">platformName	^'MacOSX'</body><body package="OpenGL-MacOSX">viewClass	^Pixmap</body></methods><methods><class-id>Cocoa.RenderContextCocoaImage</class-id> <category>private</category><body package="OpenGL-MacOSX">activateContext	super activateContext.	framebuffer ifNil: [^self].	framebuffer bind</body><body package="OpenGL-MacOSX">defaultPixelFormatAttributes	| attributes |	attributes := CIntegerType int gcMalloc: 5.	attributes at: 0 put: NSOpenGLPFAWindow.	attributes at: 1 put: NSOpenGLPFAAccelerated.	attributes at: 2 put: NSOpenGLPFADepthSize.	attributes at: 3 put: 32.	attributes at: 4 put: 0.	^attributes</body></methods><methods><class-id>Cocoa.RenderContextCocoaImage</class-id> <category>api</category><body package="OpenGL-MacOSX">flush	interface Flush.	view textureParameters: [:format :type :buffer | gl ReadPixels: 0 with: 0 with: view width with: view height with: format with: type with: buffer].	gl CheckError</body><body package="OpenGL-MacOSX">resize	"cannot resize an Image - so do nothing"</body></methods><methods><class-id>Cocoa.RenderContextCocoaImage</class-id> <category>initialize-release</category><body package="OpenGL-MacOSX">initialize: aView	super initialize: aView.	self whileCurrentDo: [self initializeFramebuffer]</body><body package="OpenGL-MacOSX">initializeFramebuffer	| renderbuffer |	renderbuffer := RenderBuffer new.	renderbuffer bind.	renderbuffer storage: gl RGBA extent: view extent.	framebuffer := FrameBuffer new.	framebuffer bind.	framebuffer attach: renderbuffer attachment: gl COLOR_ATTACHMENT0_EXT.	framebuffer isComplete ifFalse: [self error: 'Unable to complete the framebuffer in VRAM']</body></methods><methods><class-id>Cocoa.RenderContextCocoaImage class</class-id> <category>private</category><body package="OpenGL-MacOSX">platformName	^'MacOSX'</body><body package="OpenGL-MacOSX">viewClass	^Image</body></methods><methods><class-id>Cocoa.RenderContextCocoaFloatArray</class-id> <category>api</category><body package="OpenGL-MacOSX">flush	interface Flush.	downloadBuffer bind.	gl ReadPixels: 0 with: 0 with: extent x with: extent y with: gl RGBA with: gl FLOAT with: 0.	gl CheckError.	downloadBuffer copyInto: view</body></methods><methods><class-id>Cocoa.RenderContextCocoaFloatArray</class-id> <category>initialize-release</category><body package="OpenGL-MacOSX">initializeFramebuffer	| size height |	size := view size / 4.	height := 2 ** (size sqrt log / 2 log) floor.	extent := (size / height) @ height.	texture := Texture new.	texture internalFormat: self internalFormat.	texture minification: gl NEAREST.	texture magnification: gl NEAREST.	texture empty: extent format: gl RGBA dataType: gl FLOAT.	framebuffer := FrameBuffer new.	framebuffer bind.	framebuffer attach: texture attachment: gl COLOR_ATTACHMENT0_EXT.	framebuffer isComplete ifFalse: [self error: 'Unable to complete the framebuffer in VRAM'].	framebuffer unbind.	texture unbind.	downloadBuffer := Buffer newPixelPackBuffer.	downloadBuffer data: gl GLfloat size: view size mode: gl STREAM_READ.	downloadBuffer unbind</body></methods><methods><class-id>Cocoa.RenderContextCocoaFloatArray</class-id> <category>accessing</category><body package="OpenGL-MacOSX">bounds	^Point zero extent: extent</body><body package="OpenGL-MacOSX">internalFormat	^gl RGBA32F_ARB</body></methods><methods><class-id>Cocoa.RenderContextCocoaFloatArray class</class-id> <category>private</category><body package="OpenGL-MacOSX">viewClass	^FloatArray</body></methods><methods><class-id>Cocoa.RenderContextCocoaWindow</class-id> <category>api</category><body package="OpenGL-MacOSX">flush	interface Flush.	context flushBuffer</body><body package="OpenGL-MacOSX">resize	context update</body></methods><methods><class-id>Cocoa.RenderContextCocoaWindow</class-id> <category>private</category><body package="OpenGL-MacOSX">activateContext	"context view lockFocus."	super activateContext</body><body package="OpenGL-MacOSX">deactivateContext	super deactivateContext.	"context view unlockFocus"</body><body package="OpenGL-MacOSX">defaultPixelFormatAttributes	| attributes |	attributes := CIntegerType int gcMalloc: 5.	attributes at: 0 put: NSOpenGLPFAWindow.	attributes at: 1 put: NSOpenGLPFAAccelerated.	attributes at: 2 put: NSOpenGLPFADepthSize.	attributes at: 3 put: view depth.	attributes at: 4 put: 0.	^attributes</body></methods><methods><class-id>Cocoa.RenderContextCocoaWindow</class-id> <category>initialize-release</category><body package="OpenGL-MacOSX">initializeContext	| window |	super initializeContext.		"Force the window to non-buffering mode so it doesn't conflict with OpenGL buffering"	view damageRepairPolicy: WindowDisplayPolicy new.		window := view windowHandle __from_objc_id.	context setView: window contentView</body></methods><methods><class-id>Cocoa.RenderContextCocoaWindow class</class-id> <category>private</category><body package="OpenGL-MacOSX">platformName	^'MacOSX'</body><body package="OpenGL-MacOSX">viewClass	^Window</body></methods><methods><class-id>OS.MacOSXSystemSupport</class-id> <category>procedures</category><body package="OpenGL-MacOSX">copyMemory: source to: destination length: length	self memcpy: destination with: source with: length</body></methods><methods><class-id>OS.MacOSXSystemSupport</class-id> <category>types</category><body package="OpenGL-MacOSX">size_t	&lt;C: typedef unsigned int size_t&gt;</body></methods><methods><class-id>OpenGL.OpenGLInterface class</class-id> <category>libraries</category><body package="OpenGL-MacOSX">macosx_opengl_framework	&lt;library: #osx&gt;	^'/System/Library/Frameworks/OpenGL.Framework/Libraries/libGL.dylib'</body></methods><methods><class-id>OS.MacOSXSystemSupport</class-id> <category>procedures</category><body package="OpenGL-MacOSX">memcpy: dst with: src with: len	&lt;C: void *memcpy(void *dst, const void *src, size_t len)&gt;	^self externalAccessFailedWith: _errorCode</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>RenderContext</name><environment>OpenGL</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>interface view vendor renderer version program textures texturesHistory extensions </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>OpenGL</package></attributes></class><class><name>MacOSXSystemSupport</name><environment>OS</environment><super>OS.UnixSystemSupport</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports>			private OS.MacOSXSystemSupportDictionary.*			</imports><category>OS-Unix</category><attributes><includeFiles></includeFiles><includeDirectories></includeDirectories><libraryFiles><item>libc.dylib</item></libraryFiles><libraryDirectories></libraryDirectories><beVirtual>false</beVirtual><optimizationLevel>full</optimizationLevel><package>OS-MacOSX</package></attributes></class></st-source>