<?xml version="1.0"?><st-source><!-- Name: AllEncodings-TestsComment: Tests for AllEncodings Version 7.10 - 2DbIdentifier: magdi.heeg.de.postgresDbTrace: 42080DbUsername: georgDbVersion: 7.10 - 4DevelopmentPrerequisites: #(#(#any 'AllEncodings' '') #(#any 'SUnitToo(ls)' ''))PackageName: AllEncodings-TestsParcel: #('AllEncodings-Tests')ParcelDirectory: c:\visworks\vw8.0 sep14.2\image\HeegContributions-vw8.0-2014-09-25-2\AllEncodings-TestsPrerequisiteDescriptions: #(#(#name 'AllEncodings' #componentType #package) #(#name 'SUnitToo(ls)' #componentType #package))PrerequisiteParcels: #(#('AllEncodings' '') #('SUnitToo(ls)' ''))PrintStringCache: (7.10 - 4,georg)Version: 7.10 - 4Date: 3:30:36 PM September 25, 2014 --><time-stamp>From VisualWorks®, 8.0 of 15. September 2014 on 25. September 2014 at 15:30:36</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>AllEncodingTests</name><environment>Core</environment><super>SUnit.TestCase</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category></category><attributes><package>AllEncodings-Tests</package></attributes></class><methods><class-id>Core.AllEncodingTests</class-id> <category>tests</category><body package="AllEncodings-Tests">testExternalProcess950	| proc fileTyped file |	file := 'test.txt' asFilename writeStream binary.		[65 to: 80		do: 			[:i |			file				nextPut: 192;				nextPut: i]]			ensure: [file close].	(proc := ExternalProcess new) encoding: #'950'.	fileTyped := proc fork: proc getCommandLineInterpreter				arguments: #('/c' 'type test.txt').	self assert: fileTyped = '錦錡錕錮錙閻隧隨險雕霎霑霖霍霓霏'.	'test.txt' asFilename delete</body><body package="AllEncodings-Tests">testReadStream950	| file string |	file := 'test.txt' asFilename writeStream binary.		[65 to: 80		do: 			[:i |			file				nextPut: 192;				nextPut: i]]			ensure: [file close].	file := ('test.txt' asFilename withEncoding: #ms_cp_950) readStream.	string := file contents.	self assert: string = '錦錡錕錮錙閻隧隨險雕霎霑霖霍霓霏'.	file close.	'test.txt' asFilename delete</body><body package="AllEncodings-Tests">testWriteStream950	| file bytes |	file := ('test.txt' asFilename withEncoding: #ms_cp_950) writeStream.	[file nextPutAll: '錦錡錕錮錙閻隧隨險雕霎霑霖霍霓霏'] ensure: 			[file close].	bytes := ('test.txt' asFilename withEncoding: #binary)				contentsOfEntireFile.	self assert: bytes				= #[192 65 192 66 192 67 192 68 192 69 192 70 192 71 192 72 192 73 192 74 192 75 192 76 192 77 192 78 192 79 192 80].	'test.txt' asFilename delete</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>TestCase</name><environment>SUnit</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>testSelector </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>SUnit</category><attributes><package>SUnitToo</package></attributes></class></st-source>