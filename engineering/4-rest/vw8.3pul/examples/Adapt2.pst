<?xml version="1.0"?><st-source><!-- Name: Adapt2-ExampleNotice: Copyright 2001-2014 Cincom Systems, Inc.  All rights reserved.Comment: This parcel/package contains Adaptor2Example class, an example of using AspectAdaptors and to coordinate its aspects with its domain model Customer1Example.DbIdentifier: bear73DbTrace: 427915DbUsername: smichaelDbVersion: 8.0 - 1DevelopmentPrerequisites: #(#(#any 'Cust1-Example' ''))PackageName: Adapt2-ExampleParcel: #('Adapt2-Example')ParcelName: Adapt2-ExamplePrerequisiteParcels: #(#('Cust1-Example' ''))PrintStringCache: (8.0 - 1,smichael)Version: 8.0 - 1Date: 5:06:41 PM May 26, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (may17.4) of May 26, 2017 on May 26, 2017 at 5:06:41 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>Adaptor2Example</name><environment>Examples</environment><super>UI.ApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>customers selectedCustomer </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Examples-Help</category><attributes><package>Adapt2-Example</package></attributes></class><comment><class-id>Examples.Adaptor2Example</class-id><body>Adaptor1Example class demonstrates the use of a value holder and the use of onChangeSend: to coordinate changes with a domain model, Customer1Example. Browse the initialize-release methods for configuring dependencies, and the change messages methods for updating the domain model. Instance Variables:	customers	&lt;SelectionInList&gt;	list model of customers	selectedCustomer	&lt;ValueHolder on: Customer1Example&gt;	selected Customer1Example instance</body></comment><methods><class-id>Examples.Adaptor2Example</class-id> <category>aspects</category><body package="Adapt2-Example">accountID	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	adaptor forAspect: #accountID.	adaptor onChangeSend: #redisplayList to: self.	^adaptor</body><body package="Adapt2-Example">address	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	^adaptor 		accessWith: #address		assignWith: #address:</body><body package="Adapt2-Example">customers	^customers</body><body package="Adapt2-Example">name	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	adaptor forAspect: #name.	adaptor onChangeSend: #redisplayList to: self.	^adaptor</body><body package="Adapt2-Example">phoneNumber	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	adaptor forAspect: #phoneNumber.	adaptor subjectSendsUpdates: true.	^adaptor</body><body package="Adapt2-Example">selectedCustomer	^selectedCustomer</body></methods><methods><class-id>Examples.Adaptor2Example</class-id> <category>actions</category><body package="Adapt2-Example">add	| list selectionInList |	selectionInList := self customers.	list := selectionInList list.	"Add new customer."	list add: Customer1Example new.	selectionInList list: list.	"Highlight new customer."	selectionInList selectionIndex: list size.</body><body package="Adapt2-Example">formatPhoneNumber	| chosenCustomer |	chosenCustomer := self customers selection.	chosenCustomer formatUSPhoneNumber.</body></methods><methods><class-id>Examples.Adaptor2Example</class-id> <category>initialize-release</category><body package="Adapt2-Example">initialize	customers := SelectionInList new.	customers selectionIndexHolder onChangeSend: #changedCustomer to: self.	selectedCustomer := Customer1Example new asValue.</body></methods><methods><class-id>Examples.Adaptor2Example</class-id> <category>private</category><body package="Adapt2-Example">redisplayList	(self builder componentAt: #customers) widget invalidate.</body></methods><methods><class-id>Examples.Adaptor2Example</class-id> <category>change messages</category><body package="Adapt2-Example">changedCustomer	| chosenCustomer |	chosenCustomer := self customers selection.	self selectedCustomer value: 		(chosenCustomer isNil			ifTrue: [Customer1Example new]			ifFalse: [chosenCustomer]).	"Enable/disable selection-sensitive widgets."	#( #accountID #name #address #phoneNumber #format)		do: [ :componentName |			(self builder componentAt: componentName)				isEnabled: chosenCustomer notNil].</body></methods><methods><class-id>Examples.Adaptor2Example class</class-id> <category>interface specs</category><body package="Adapt2-Example">windowSpec	"UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Adaptor2Example' 			#min: #(#Point 587 188 ) 			#max: #(#Point 587 188 ) 			#bounds: #(#Rectangle 558 605 1145 793 ) ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#LabelSpec 					#layout: #(#Point 205 18 ) 					#label: 'Customer ID' ) 				#(#LabelSpec 					#layout: #(#Point 205 55 ) 					#label: 'Name' ) 				#(#LabelSpec 					#layout: #(#Point 205 92 ) 					#label: 'Address' ) 				#(#LabelSpec 					#layout: #(#LayoutOrigin 0 0.349233 0 0.680851 ) 					#label: 'Phone' ) 				#(#LabelSpec 					#layout: #(#Point 318 166 ) 					#label: '(These fields use AspectAdaptors)' 					#style: #small ) 				#(#ActionButtonSpec 					#layout: #(#AlignmentOrigin 0 0.166667 4 0 0.5 0 ) 					#model: #add 					#label: 'Add customer' ) 				#(#SequenceViewSpec 					#layout: #(#LayoutFrame 10 0 40 0 0 0.333333 -10 1 ) 					#name: #customers 					#flags: 15 					#model: #customers ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 321 21 368 43 ) 					#name: #accountID 					#flags: 40 					#model: #accountID 					#type: #number ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 321 56 518 80 ) 					#name: #name 					#flags: 40 					#model: #name ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 321 93 518 117 ) 					#name: #address 					#flags: 40 					#model: #address ) 				#(#InputFieldSpec 					#layout: #(#LayoutFrame 0 0.546848 0 0.68617 0 0.882453 0 0.81383 ) 					#name: #phoneNumber 					#flags: 40 					#model: #phoneNumber ) 				#(#ActionButtonSpec 					#layout: #(#Rectangle 522 129 582 153 ) 					#name: #format 					#flags: 40 					#model: #formatPhoneNumber 					#label: 'Format' ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>ApplicationModel</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>builder uiSession eventHandlers </inst-vars><class-inst-vars>savedWindowInformation </class-inst-vars><imports></imports><category>UIBuilder-Framework</category><attributes><package>UIBuilder-Framework</package></attributes></class></st-source>