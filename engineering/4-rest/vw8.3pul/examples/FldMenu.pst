<?xml version="1.0"?><st-source><!-- Name: FieldMenu-ExampleNotice: Copyright 2001-2014 Cincom Systems, Inc.  All rights reserved.Comment: This parcel/package contains FieldMenuExample, which demonstrates techniques for customizing an input field's pop-up menu. DbIdentifier: bear73DbTrace: 427933DbUsername: smichaelDbVersion: 8.0 - 1PackageName: FieldMenu-ExampleParcel: #('FieldMenu-Example')ParcelName: FieldMenu-ExamplePrintStringCache: (8.0 - 1,smichael)Version: 8.0 - 1Date: 5:06:43 PM May 26, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (may17.4) of May 26, 2017 on May 26, 2017 at 5:06:43 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>FieldMenuExample</name><environment>Examples</environment><super>UI.ApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>field1 field2 field3 field4 </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Examples-Help</category><attributes><package>FieldMenu-Example</package></attributes></class><comment><class-id>Examples.FieldMenuExample</class-id><body>This example class demonstrates techniques for customizing an input field's pop-up menu. </body></comment><methods><class-id>Examples.FieldMenuExample</class-id> <category>menu messages</category><body package="FieldMenu-Example">capitalize	"Capitalize the field's contents."	self field1 value: (self field1 value 		collect: [ :ch | ch asUppercase]).</body><body package="FieldMenu-Example">expandedMenu	"Add a command to the default text-editing menu."	| mb |	mb := MenuBuilder new.	mb 		add: 'capitalize'-&gt;#capitalize;		line;		addDefaultTextMenu.		^mb menu</body><body package="FieldMenu-Example">newAccept	Transcript show: self field3 value; cr.</body><body package="FieldMenu-Example">newAcceptMenu	"Redefine the 'accept' command by invoking a local alternate."	| mb |	mb := MenuBuilder new.	mb		addFindReplaceUndo;		line;		addCopyCutPaste;		line;			add: 'accept'-&gt;#newAccept;		add: 'cancel'-&gt;#cancel.	^mb menu</body><body package="FieldMenu-Example">noMenu	^[nil]</body><body package="FieldMenu-Example">reducedMenu	"Remove a command (#again) from the default text-editing menu."	| mb |	mb := MenuBuilder new.	mb		add: 'undo'-&gt;#undo;		line;		addCopyCutPaste;		line;			addAcceptCancel.	^mb menu</body></methods><methods><class-id>Examples.FieldMenuExample</class-id> <category>aspects</category><body package="FieldMenu-Example">field1	"This method was generated by UIDefiner. The initialization provided 	below may have been preempted by an initialize method."	^field1 isNil ifTrue: [field1 := String new asValue] ifFalse: [field1]</body><body package="FieldMenu-Example">field2	"This method was generated by UIDefiner. The initialization provided 	below may have been preempted by an initialize method."	^field2 isNil ifTrue: [field2 := String new asValue] ifFalse: [field2]</body><body package="FieldMenu-Example">field3	"This method was generated by UIDefiner. The initialization provided 	below may have been preempted by an initialize method."	^field3 isNil ifTrue: [field3 := String new asValue] ifFalse: [field3]</body><body package="FieldMenu-Example">field4	"This method was generated by UIDefiner. The initialization provided 	below may have been preempted by an initialize method."	^field4 isNil ifTrue: [field4 := String new asValue] ifFalse: [field4]</body></methods><methods><class-id>Examples.FieldMenuExample class</class-id> <category>interface specs</category><body package="FieldMenu-Example">windowSpec	"UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'FieldMenuExample' 			#min: #(#Point 257 175 ) 			#max: #(#Point 257 175 ) 			#bounds: #(#Rectangle 512 505 769 680 ) ) 		#component:  		#(#SpecCollection 			#collection: #(				#(#InputFieldSpec					#layout: #(#Rectangle 16 45 116 70 ) 					#name: #field1 					#model: #field1 					#menu: #expandedMenu ) 				#(#LabelSpec 					#layout: #(#Point 8 21 ) 					#label: 'Expanded menu' 					#style: #small ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 16 135 116 160 ) 					#name: #field2 					#model: #field2 					#menu: #reducedMenu ) 				#(#LabelSpec 					#layout: #(#Point 11 111 ) 					#label: 'Reduced menu' 					#style: #small ) 				#(#InputFieldSpec					#layout: #(#Rectangle 142 45 242 70 ) 					#name: #field3 					#model: #field3 					#menu: #newAcceptMenu ) 				#(#LabelSpec 					#layout: #(#Point 147 7 ) 					#label: 'New ''accept''' 					#style: #small ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 142 135 242 160 ) 					#name: #field4 					#model: #field4 					#menu: #noMenu ) 				#(#LabelSpec 					#layout: #(#Point 159 111 ) 					#label: 'No menu' 					#style: #small ) 				#(#DividerSpec 					#layout: #(#Rectangle 128 -1 132 176 ) 					#orientation: #vertical ) 				#(#DividerSpec 					#layout: #(#Rectangle -1 93 257 97 ) ) 				#(#LabelSpec 					#layout: #(#Point 157 23 ) 					#label: 'command' 					#style: #small ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>ApplicationModel</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>builder uiSession eventHandlers </inst-vars><class-inst-vars>savedWindowInformation </class-inst-vars><imports></imports><category>UIBuilder-Framework</category><attributes><package>UIBuilder-Framework</package></attributes></class></st-source>