<?xml version="1.0"?><st-source><!-- Name: Adapt4-ExampleNotice: Copyright 2001-2014 Cincom Systems, Inc.  All rights reserved.Comment: This parcel/package contains Adaptor4Example class, an example of adapting a Collection domain model, Customer2Example, to the application model via a SelectionInList.DbIdentifier: bear73DbTrace: 427913DbUsername: smichaelDbVersion: 8.0 - 1DevelopmentPrerequisites: #(#(#any 'Cust1-Example' '') #(#any 'Cust2-Example' ''))PackageName: Adapt4-ExampleParcel: #('Adapt4-Example')ParcelName: Adapt4-ExamplePrerequisiteParcels: #(#('Cust1-Example' '') #('Cust2-Example' ''))PrintStringCache: (8.0 - 1,smichael)Version: 8.0 - 1Date: 5:06:41 PM May 26, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (may17.4) of May 26, 2017 on May 26, 2017 at 5:06:41 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>Adaptor4Example</name><environment>Examples</environment><super>UI.ApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>collectionModel customers selectedCustomer </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Examples-Help</category><attributes><package>Adapt4-Example</package></attributes></class><comment><class-id>Examples.Adaptor4Example</class-id><body>Adaptor4Example class demonstrates adapting a list domain model, Customer2Example, to its application model. Browse the initialize method for adapting the domain model collection to a SelectionInList.Instance Variables:	collectionModel	&lt;Customer2Example&gt;	holder for Customer1Example instances	customers	&lt;SelectionInList&gt;	list model for Customer1Example instances	selectedCustomer	&lt;ValueHolder on: Customer1Example&gt;	current Customer1Example selection</body></comment><methods><class-id>Examples.Adaptor4Example</class-id> <category>aspects</category><body package="Adapt4-Example">accountID	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	adaptor forAspect: #accountID.	adaptor onChangeSend: #redisplayList to: self.	^adaptor</body><body package="Adapt4-Example">address	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	^adaptor forAspect: #address</body><body package="Adapt4-Example">customers	| list |	list := AspectAdaptor subject: collectionModel.	list forAspect: #customers.	^customers isNil		ifTrue: [customers := SelectionInList new 			listHolder: list ]		ifFalse: [customers]</body><body package="Adapt4-Example">name	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	adaptor forAspect: #name.	adaptor onChangeSend: #redisplayList to: self.	^adaptor</body><body package="Adapt4-Example">phoneNumber	| adaptor |	adaptor := AspectAdaptor subjectChannel: self selectedCustomer.	^adaptor forAspect: #phoneNumber</body><body package="Adapt4-Example">selectedCustomer	^selectedCustomer</body></methods><methods><class-id>Examples.Adaptor4Example</class-id> <category>private</category><body package="Adapt4-Example">redisplayList	(self builder componentAt: #customers) widget invalidate.</body></methods><methods><class-id>Examples.Adaptor4Example</class-id> <category>actions</category><body package="Adapt4-Example">add	| list selectionInList |	selectionInList := self customers.	list := selectionInList list.	"Add new customer."	list add: Customer1Example new.	"Highlight new customer."	selectionInList selectionIndex: list size.</body></methods><methods><class-id>Examples.Adaptor4Example</class-id> <category>initialize-release</category><body package="Adapt4-Example">initialize	collectionModel := Customer2Example new.	customers := SelectionInList new.	customers listHolder: ( (AspectAdaptor subject: collectionModel) forAspect: #customers).	self customers selectionIndexHolder onChangeSend: #changedCustomer to: self.	selectedCustomer := Customer1Example new asValue.</body></methods><methods><class-id>Examples.Adaptor4Example</class-id> <category>change messages</category><body package="Adapt4-Example">changedCustomer	| chosenCustomer |	chosenCustomer := self customers selection.	self selectedCustomer value: 		(chosenCustomer isNil			ifTrue: [Customer1Example new]			ifFalse: [chosenCustomer]).	"Enable/disable selection-sensitive widgets."	#( #accountID #name #address #phoneNumber)		do: [ :componentName |			(self builder componentAt: componentName)				isEnabled: chosenCustomer notNil].</body></methods><methods><class-id>Examples.Adaptor4Example class</class-id> <category>interface specs</category><body package="Adapt4-Example">windowSpec	"UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Adaptor4Example' 			#min: #(#Point 20 20 ) 			#max: #(#Point 506 188 ) 			#bounds: #(#Rectangle 590 612 1096 800 ) ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#LabelSpec 					#layout: #(#Point 175 19 ) 					#label: 'Customer ID' ) 				#(#LabelSpec 					#layout: #(#Point 175 56 ) 					#label: 'Name' ) 				#(#LabelSpec 					#layout: #(#Point 175 93 ) 					#label: 'Address' ) 				#(#LabelSpec 					#layout: #(#Point 175 129 ) 					#label: 'Phone' ) 				#(#LabelSpec 					#layout: #(#Point 171 167 ) 					#label: '(This list is adapted from a raw collection)' 					#style: #small ) 				#(#ActionButtonSpec 					#layout: #(#AlignmentOrigin 0 0.166667 4 0 0.5 0 ) 					#model: #add 					#label: 'Add customer' ) 				#(#SequenceViewSpec 					#layout: #(#LayoutFrame 10 0 40 0 0 0.333333 -10 1 ) 					#name: #customers 					#flags: 15 					#model: #customers ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 286 22 333 44 ) 					#name: #accountID 					#flags: 40 					#model: #accountID 					#type: #number ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 286 57 483 81 ) 					#name: #name 					#flags: 40 					#model: #name ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 286 94 483 118 ) 					#name: #address 					#flags: 40 					#model: #address ) 				#(#InputFieldSpec 					#layout: #(#Rectangle 286 130 483 154 ) 					#name: #phoneNumber 					#flags: 40 					#model: #phoneNumber ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>ApplicationModel</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>builder uiSession eventHandlers </inst-vars><class-inst-vars>savedWindowInformation </class-inst-vars><imports></imports><category>UIBuilder-Framework</category><attributes><package>UIBuilder-Framework</package></attributes></class></st-source>