<?xml version="1.0"?><st-source><!-- Name: Font2-ExampleNotice: Copyright 2001-2014 Cincom Systems, Inc.  All rights reserved.Comment: This parcel/package contains Font2Example, which demonstrates collecting the host window manager's available fonts, and presenting them for selection in a list. DbIdentifier: bear73DbTrace: 427965DbUsername: smichaelDbVersion: 8.0 - 1PackageName: Font2-ExampleParcel: #('Font2-Example')PrintStringCache: (8.0 - 1,smichael)Version: 8.0 - 1Date: 5:06:45 PM May 26, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (may17.4) of May 26, 2017 on May 26, 2017 at 5:06:45 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>Font2Example</name><environment>Examples</environment><super>UI.ApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>platformFonts </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Examples-Help</category><attributes><package>Font2-Example</package></attributes></class><comment><class-id>Examples.Font2Example</class-id><body>Font2Example demonstrates collecting the host window manager's available fonts, and presenting them for selection in a list.  A sample of the selected font is shown in a Label.</body></comment><methods><class-id>Examples.Font2Example</class-id> <category>change messages</category><body package="Font2-Example">changedFont	| widget newStyle newFont fd ca |	newFont := self platformFonts selection.	newFont isNil ifTrue: [^self].	widget := (self builder componentAt: #alphabet) widget.	"Create and install a custom text style."	fd := FontDescription new		name: newFont.	ca := CharacterAttributes newWithDefaultAttributes.	ca setDefaultQuery: fd.	newStyle := TextAttributes characterAttributes: ca.	newStyle gridForFont: nil		withLead: 2.	"Install the new font."	widget textStyle: newStyle.	"Redisplay the widget."	widget invalidate.	"Repaint the window in case the new label is smaller than the old label."	self builder window refresh.</body></methods><methods><class-id>Examples.Font2Example</class-id> <category>initialize-release</category><body package="Font2-Example">initialize	"Do not include vertical fonts, if they exist they have an @ character in the first position of their name"	platformFonts := SelectionInList 		with: (Screen default listFontNames select: [:each | each first ~= $@]).	platformFonts selectionIndexHolder onChangeSend: #changedFont to: self.</body></methods><methods><class-id>Examples.Font2Example</class-id> <category>accessing</category><body package="Font2-Example">platformFonts	^platformFonts</body></methods><methods><class-id>Examples.Font2Example class</class-id> <category>interface specs</category><body package="Font2-Example">windowSpec	"UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#FullSpec 		#window: 		#(#WindowSpec 			#label: 'Font2Example' 			#bounds: #(#Rectangle 241 339 718 748 ) ) 		#component: 		#(#SpecCollection 			#collection: #(				#(#LabelSpec 					#layout: #(#AlignmentOrigin 25 0 -5 1 0 1 ) 					#name: #alphabet 					#label: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz' ) 				#(#SequenceViewSpec 					#layout: #(#LayoutFrame 1 0 30 0 -1 1 -40 1 ) 					#flags: 15 					#model: #platformFonts ) 				#(#LabelSpec 					#layout: #(#Point 10 10 ) 					#label: 'Select a platform font -- it will be displayed in the alphabet below' 					#style: #small ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>ApplicationModel</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>builder uiSession eventHandlers </inst-vars><class-inst-vars>savedWindowInformation </class-inst-vars><imports></imports><category>UIBuilder-Framework</category><attributes><package>UIBuilder-Framework</package></attributes></class></st-source>