<?xml version="1.0"?><st-source><!-- Name: Adapt7-ExampleNotice: Copyright 2003-2014 Cincom Systems, Inc.  All rights reserved.Comment: This parcel/package contains Adaptor7Example class, an example of using BufferedValueModels specified to and built by the application builder to synchronize updates with its domain model, Customer1Example.DbIdentifier: bear73DbTrace: 427980DbUsername: smichaelDbVersion: 1.4PackageName: Adapt7-ExampleParcel: #('Adapt7-Example')PrintStringCache: (1.4,smichael)Version: 1.4Date: 5:06:46 PM May 26, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (may17.4) of May 26, 2017 on May 26, 2017 at 5:06:46 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>Adaptor7Example</name><environment>Examples</environment><super>UI.ApplicationModel</super><private>false</private><indexed-type>none</indexed-type><inst-vars>customers updateTrigger </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Help-Examples</category><attributes><package>Adapt7-Example</package></attributes></class><comment><class-id>Examples.Adaptor7Example</class-id><body>Adaptor7Example, a variation of example Adaptor3Example, minimizes coding of BufferedValueHolders, AspectAdaptors, and change notification by making use of the application builder to build them from specifications.Instance Variables:	customers	&lt;SelectionInList&gt;	list model of Customer1Example instances 	updateTrigger	&lt;ValueHolder on: Boolean&gt;	model updates selected Customer1Example when set true</body></comment><methods><class-id>Examples.Adaptor7Example</class-id> <category>actions</category><body package="Adapt7-Example">accept	self updateTrigger value: true.	self redisplayList.</body><body package="Adapt7-Example">add	| list selectionInList |	selectionInList := self customers.	list := selectionInList list.	"Add new customer."	list add: Customer1Example new.	"Highlight new customer."	selectionInList selectionIndex: list size.	self changedCustomer.</body></methods><methods><class-id>Examples.Adaptor7Example</class-id> <category>change messages</category><body package="Adapt7-Example">changedCustomer	| chosenCustomer |	"Discard changes that were not OK'd."	self updateTrigger value: false.	"Enable/disable selection-sensitive widgets."	chosenCustomer := self customers selection.	#( #accountID #name #address #phoneNumber #ok)		do: [ :componentName |			(self builder componentAt: componentName)				isEnabled: chosenCustomer notNil].</body></methods><methods><class-id>Examples.Adaptor7Example</class-id> <category>aspects</category><body package="Adapt7-Example">customers	^customers</body><body package="Adapt7-Example">selectedCustomer	^customers selectionHolder</body><body package="Adapt7-Example">updateTrigger	^updateTrigger</body></methods><methods><class-id>Examples.Adaptor7Example</class-id> <category>initialize-release</category><body package="Adapt7-Example">initialize	customers := SelectionInList new.	updateTrigger := false asValue.</body></methods><methods><class-id>Examples.Adaptor7Example</class-id> <category>private</category><body package="Adapt7-Example">redisplayList	(self builder componentAt: #customers) widget invalidate.</body></methods><methods><class-id>Examples.Adaptor7Example class</class-id> <category>interface specs</category><body package="Adapt7-Example">windowSpec	"Tools.UIPainter new openOnClass: self andSelector: #windowSpec"	&lt;resource: #canvas&gt;	^#(#{UI.FullSpec} 		#window: 		#(#{UI.WindowSpec} 			#label: 'Adaptor7Example' 			#min: #(#{Core.Point} 506 201 ) 			#max: #(#{Core.Point} 506 201 ) 			#bounds: #(#{Graphics.Rectangle} 800 600 1306 801 ) ) 		#component: 		#(#{UI.SpecCollection} 			#collection: #(				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 175 19 ) 					#label: 'Customer ID' ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 175 56 ) 					#label: 'Name' ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 175 93 ) 					#label: 'Address' ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 175 129 ) 					#label: 'Phone' ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 267 169 ) 					#label: 'BufferedValueHolders)' 					#style: #small ) 				#(#{UI.LabelSpec} 					#layout: #(#{Core.Point} 267 153 ) 					#label: '(These fields use' 					#style: #small ) 				#(#{UI.ActionButtonSpec} 					#layout: #(#{UI.AlignmentOrigin} 0 0.166667 4 0 0.5 0 ) 					#model: #add 					#label: 'Add customer' ) 				#(#{UI.ActionButtonSpec} 					#layout: #(#{Graphics.Rectangle} 434 161 483 191 ) 					#name: #ok 					#flags: 40 					#model: #accept 					#label: 'OK' 					#defaultable: true ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 286 94 483 118 ) 					#name: #address 					#flags: 40 					#model: #'selectedCustomer address | updateTrigger' ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 286 130 483 154 ) 					#name: #phoneNumber 					#flags: 40 					#model: #'selectedCustomer phoneNumber | updateTrigger' ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 286 22 333 44 ) 					#name: #accountID 					#flags: 40 					#model: #'selectedCustomer accountID | updateTrigger' 					#type: #number ) 				#(#{UI.SequenceViewSpec} 					#layout: #(#{Graphics.LayoutFrame} 10 0 40 0 0 0.333333 -10 1 ) 					#name: #customers 					#flags: 15 					#model: #customers 					#callbacksSpec: 					#(#{UI.UIEventCallbackSubSpec} 						#valueChangeSelector: #changedCustomer ) ) 				#(#{UI.InputFieldSpec} 					#layout: #(#{Graphics.Rectangle} 286 57 483 81 ) 					#name: #name 					#flags: 40 					#model: #'selectedCustomer name | updateTrigger' ) ) ) )</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>ApplicationModel</name><environment>UI</environment><super>UI.Model</super><private>false</private><indexed-type>none</indexed-type><inst-vars>builder uiSession eventHandlers </inst-vars><class-inst-vars>savedWindowInformation </class-inst-vars><imports></imports><category>UIBuilder-Framework</category><attributes><package>UIBuilder-Framework</package></attributes></class></st-source>