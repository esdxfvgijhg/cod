<?xml version="1.0"?><st-source><!-- Name: Seaside-VisualWorks-EmailNotice: Copyright 1999-2014 Cincom Systems, Inc.  All rights reserved.Comment: VisualWorks support for the Seaside-Email package.DbIdentifier: bear73DbTrace: 492598DbUsername: jkottDbVersion: 3.2.0 - 1DevelopmentPrerequisites: #(#(#any 'Grease-VisualWorks-Core' '') #(#any 'Seaside-Email' '') #(#any 'SMTP' '') #(#any 'Mail' ''))PackageName: Seaside-VisualWorks-EmailParcel: #('Seaside-VisualWorks-Email')PrerequisiteDescriptions: #(#(#name 'Grease-VisualWorks-Core' #componentType #package) #(#name 'Seaside-Email' #componentType #package) #(#name 'SMTP' #componentType #package) #(#name 'Mail' #componentType #package))PrerequisiteParcels: #(#('Grease-VisualWorks-Core' '') #('Seaside-Email' '') #('SMTP' '') #('Mail' ''))PrintStringCache: (3.2.0 - 1,jkott)Version: 3.2.0 - 1Date: 3:31:27 PM June 30, 2017 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (jun17.5) of June 30, 2017 on June 30, 2017 at 3:31:27 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><methods><class-id>Grease.GRVisualWorksPlatform</class-id> <category>*seaside-email</category><body package="Seaside-VisualWorks-Email">seasideDeliverEmailMessage: aWAEmailMessage	| message client username password host |	username := self seasideSmtpUsername ifNil: [^self].	password := self seasideSmtpPassword ifNil: [^self].	host := self seasideSmtpServer ifNil: [^self].	message := Net.MailMessage newTextPlain.	message from: aWAEmailMessage from greaseString.	message to: aWAEmailMessage to.	message cc: aWAEmailMessage cc.	message bcc: aWAEmailMessage bcc.	message subject: aWAEmailMessage subject.	message text: aWAEmailMessage body greaseString.	client := Net.SMTPClient host: host port: self seasideSmtpPort.		[client user: (Net.NetUser username: username password: password).	client connect.	client login.	client sendMessage: message.	client quit]			ensure: [client close]</body><body package="Seaside-VisualWorks-Email">seasideSmtpPassword	^self seasideHandlerPreferenceAt: #smtpPassword ifAbsent: [nil]</body><body package="Seaside-VisualWorks-Email">seasideSmtpPort	^self seasideHandlerPreferenceAt: #smtpPort		ifAbsent: [Net.SMTPConnection defaultPortNumber]</body><body package="Seaside-VisualWorks-Email">seasideSmtpServer	^self seasideHandlerPreferenceAt: #smtpServer ifAbsent: ['localhost']</body><body package="Seaside-VisualWorks-Email">seasideSmtpUsername	^self seasideHandlerPreferenceAt: #smtpUsername ifAbsent: [nil]</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>GRVisualWorksPlatform</name><environment>Grease</environment><super>Grease.GRPlatform</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports>			private Protocols.*			</imports><category></category><attributes><package>Grease-VisualWorks-Core</package></attributes></class></st-source>