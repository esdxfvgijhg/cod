<?xml version="1.0"?><st-source><!-- Name: Seaside-Tests-EnvironmentComment: Unit tests for the package Seaside-Environment.DbIdentifier: bear73DbTrace: 492651DbUsername: jkottDbVersion: 3.2.0 - pmm.30 1DevelopmentPrerequisites: #(#(#any 'Seaside-Namespace' '') #(#any 'Seaside-Environment' '') #(#any 'Seaside-Tests-Component' '') #(#any 'Seaside-Tests-RenderLoop' '') #(#any 'Seaside-Tests-Session' '') #(#any 'Seaside-Tests-Canvas' ''))Id: 2c6d45f7-d13d-498f-ac38-79ce40337a18Namespace: SeasidePackageName: Seaside-Tests-EnvironmentParcel: #('Seaside-Tests-Environment')ParcelName: Seaside-Tests-EnvironmentPrerequisiteParcels: #(#('Seaside-Namespace' '') #('Seaside-Environment' '') #('Seaside-Tests-Component' '') #('Seaside-Tests-RenderLoop' '') #('Seaside-Tests-Session' '') #('Seaside-Tests-Canvas' ''))PrintStringCache: (3.2.0 - pmm.30 1,jkott)Url: http://smalltalkhub.com/mc/Seaside/Seaside32/main/Seaside-Tests-Environment-pmm.30.mczVersion: 3.2.0 - pmm.30 1Date: 12:17:55 PM September 16, 2016 --><time-stamp>From VisualWorksÂ®, Pre-Release 8.3 (sep16.3) of September 16, 2016 on September 16, 2016 at 12:17:55 PM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><class><name>WAEnvironmentDefaultHandlersTest</name><environment>Seaside</environment><super>SUnit.TestCase</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Seaside-Tests-Environment</category><attributes><package>Seaside-Tests-Environment</package></attributes></class><class><name>WALegacyRedirectionHandlerTest</name><environment>Seaside</environment><super>Seaside.WAContextTest</super><private>false</private><indexed-type>none</indexed-type><inst-vars>handler </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Seaside-Tests-Environment</category><attributes><package>Seaside-Tests-Environment</package></attributes></class><class><name>WAHtmlFileHandlerListingTest</name><environment>Seaside</environment><super>Seaside.WAFileHandlerListingTest</super><private>false</private><indexed-type>none</indexed-type><inst-vars></inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Seaside-Tests-Environment</category><attributes><package>Seaside-Tests-Environment</package></attributes></class><methods><class-id>Seaside.WAEnvironmentDefaultHandlersTest</class-id> <category>private</category><body package="Seaside-Tests-Environment">defaultDispatcher	^ WAAdmin defaultDispatcher</body></methods><methods><class-id>Seaside.WAEnvironmentDefaultHandlersTest</class-id> <category>tests</category><body package="Seaside-Tests-Environment">testDefaultFiles	| app |	app := self defaultDispatcher handlerAt: 'files'.	self assert: app class == WAFileHandler.	self deny: app isDispatcher.	self deny: app isApplication.	self deny: app parent isNil.	self assert: app name = 'files'.	self assert: app url pathStringUnencoded = '/files'</body><body package="Seaside-Tests-Environment">testDefaultRoot	| app |	app := self defaultDispatcher.	self assert: app class == WADispatcher.	self assert: app isDispatcher.	self assert: app isRoot.	self deny: app isApplication.	self assert: app parent isNil.	self assert: app name = ''.	self assert: app url pathStringUnencoded = '/'</body><body package="Seaside-Tests-Environment">testInvalidConfig	| app |	app := self defaultDispatcher handlerAt: 'examplesxyz/counter' ifAbsent: [ nil ].	self assert: app isNil.	app := self defaultDispatcher handlerAt: 'examples/counterxyz' ifAbsent: [ nil ].	self assert: app isNil</body></methods><methods><class-id>Seaside.WALegacyRedirectionHandlerTest</class-id> <category>configuration</category><body package="Seaside-Tests-Environment">createHandlers	^ Array with: handler</body><body package="Seaside-Tests-Environment">createRequest	^ WARequest		method: 'GET'		uri: '/seaside/pier/environment/pier.png?view=PRDownloadView'		version: 1.1</body></methods><methods><class-id>Seaside.WALegacyRedirectionHandlerTest</class-id> <category>running</category><body package="Seaside-Tests-Environment">setUp	handler := WALegacyRedirectionHandler new</body></methods><methods><class-id>Seaside.WALegacyRedirectionHandlerTest</class-id> <category>tests</category><body package="Seaside-Tests-Environment">testKeepParameters	| responseUrl response |	[ handler handleFiltered: self requestContext ]		on: WAResponseNotification		do: [ :notification | "ignore" ].	response := self requestContext response.	self assert: response status = 301.	responseUrl := response headerAt: 'Location'.	self assert: responseUrl greaseString = '/pier/environment/pier.png?view=PRDownloadView'</body></methods><methods><class-id>Seaside.WAHtmlFileHandlerListingTest</class-id> <category>testing</category><body package="Seaside-Tests-Environment">expectedMimeType	^ WAMimeType textHtml</body><body package="Seaside-Tests-Environment">handlerClass	^ WAHtmlFileHandlerListing</body></methods><methods><class-id>Grease.GRPackage class</class-id> <category>*seaside-tests-environment</category><body package="Seaside-Tests-Environment">seasideTestsEnvironment	^ self new		name: 'Seaside-Tests-Environment';		description: 'Unit tests for the package Seaside-Environment.';		addDependency: 'Seaside-Environment';		addDependency: 'Seaside-Tests-Component';		addDependency: 'Seaside-Tests-RenderLoop';		addDependency: 'Seaside-Tests-Session';		addDependency: 'Seaside-Tests-Canvas';		url: #seasideUrl;		yourself</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>TestCase</name><environment>SUnit</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>testSelector </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>SUnit</category><attributes><package>SUnitToo</package></attributes></class><class><name>WAContextTest</name><environment>Seaside</environment><super>SUnit.TestCase</super><private>false</private><indexed-type>none</indexed-type><inst-vars>requestContext </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Seaside-Tests-Core-RequestHandling</category><attributes><package>Seaside-Tests-Core</package></attributes></class><class><name>WAFileHandlerListingTest</name><environment>Seaside</environment><super>Seaside.WAContextTest</super><private>false</private><indexed-type>none</indexed-type><inst-vars>handler </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Seaside-Tests-Core-Libraries</category><attributes><package>Seaside-Tests-Core</package></attributes></class></st-source>