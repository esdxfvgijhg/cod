
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>


<!-- Mirrored from www.itl.nist.gov/div898/handbook/prc/section2/prc263.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Feb 2017 22:24:18 GMT -->
<HEAD>
<script async type="text/javascript"
        id="_fed_an_ua_tag"
        src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=DOC&amp;subagency=NIST&amp;pua=UA-37115410-50&amp;yt=true&amp;exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c">
</script>
<script type="text/javascript"
            src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default.js">
</script>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="GENERATOR" CONTENT="Mozilla/4.05 [en] (WinNT; U) [Netscape]">
<TITLE>7.2.6.3. Tolerance intervals for a normal distribution</TITLE>
</HEAD>

<BODY BGCOLOR="FFFFCC">

<IMG SRC="../../gifs/nvgtbr.gif" BORDER=0 VALIGN="TOP" ISMAP USEMAP="#MenuBar">
<map name="MenuBar">
<area shape="rect" alt="Next Page" href="prc264.html" coords="463,27,504,45">
<area shape="rect" alt="Previous Page" href="prc262.html" coords="417,28,459,45">
<area shape="rect" alt="Home" href="../../index-2.html" coords="52,0,100,43">
<area shape="rect" alt="Tools & Aids" href="../../toolaids.html" coords="165,27,264,46">
<area shape="rect" alt="Search Handbook" href="../../search.html" coords="307,28,366,44">
<area shape="default" nohref>
</map>
<BR>

<TABLE CELLSPACING=20 CELLPADDING=0 WIDTH=540>

<TR>
<TD VALIGN=TOP COLSPAN=2>
<FONT SIZE=-1>
<FONT COLOR="#D60021">7.</FONT>
<FONT COLOR="#00105A"><A HREF="../prc.html">Product and Process Comparisons</a></FONT>
<BR>
<FONT COLOR="#D60021">7.2.</FONT>
<FONT COLOR="#00105A"><A HREF="prc2.html">Comparisons based on data from one process</a></FONT>
<BR>
<FONT COLOR="#D60021">7.2.6.</FONT>
<FONT COLOR="#00105A"><A HREF="prc26.html">What intervals contain a fixed percentage of the population values?</a></FONT>
<BR>
</FONT>
<BR>
<TABLE>
<TR>
<TD VALIGN=top>
<H2><FONT COLOR="#D60021">7.2.6.3.</FONT></H2>
</TD>
<TD VALIGN=top>
<H2>Tolerance intervals for a normal distribution</H2>
</TD>
</TR >
</TABLE>
</TD>
</TR>







<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Definition of a tolerance interval</i>
</td>

<td VALIGN=TOP WIDTH="85%">
A confidence interval covers a population parameter with
a stated confidence, that is, a certain proportion of the time. There is
also a way to cover a fixed proportion of the population with a stated
confidence. Such an interval is called a <i>tolerance interval.</i> The
endpoints of a tolerance interval are called <i>tolerance limits</i>. An
application of tolerance intervals to manufacturing involves comparing
specification limits prescribed by the client with tolerance limits that
cover a specified proportion of the population.
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Difference between confidence and tolerance intervals</i>
</td>

<td VALIGN=TOP WIDTH="85%">
Confidence limits are limits within which we expect a given population
parameter, such as the mean, to lie. Statistical tolerance limits
are limits within which we expect a stated proportion of the population
to lie. 
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Not related to engineering tolerances</i>
</td>

<td VALIGN=TOP WIDTH="85%">
Statistical tolerance intervals have a probabilistic interpretation.
<i>Engineering tolerances</i> are specified outer limits of acceptability
which are usually prescribed by a design engineer and do not necessarily
reflect a characteristic of the actual measurements.
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Three types of tolerance intervals</i>
</td>

<td VALIGN=TOP WIDTH="85%">
Three types of questions can be addressed by tolerance intervals.
Question (1) leads to a two-sided interval; questions (2) and (3)
lead to one-sided intervals.
<ol>
   <li>What interval will contain \(p\)
       <!-- <i>p</i> -->
       percent of the population measurements?</li>
   <li>What interval guarantees that \(p\)
       <!-- <i>p</i>  -->
       percent of population
       measurements will not fall below a lower limit?</li>
   <li>What interval guarantees that \(p\)
       <!-- <i>p</i> -->
       percent of population
       measurements will not exceed an upper limit?</li>
</ol>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<a NAME="cases">
<i>Tolerance intervals for measurements from a normal distribution</i>
</a>
</td>

<td VALIGN=TOP WIDTH="85%">
<a NAME="k">
For the questions above, the corresponding tolerance intervals are
defined by lower (L) and upper (U) tolerance limits which are computed
from a series of measurements \(Y_n, \, \ldots, \, Y_N\):
<!-- <i>Y</i><sub>1</sub>, ..., <i>Y<sub>N</sub></i> : -->
<ol>
   <li>\(Y_L = \bar{Y} - k_2 s; \,\,\, Y_U = \bar{Y} + k_2 s\)
       <!-- <img ALIGN=ABSCENTER SRC="eqns/ytol1.gif" ALT=
       "Y(L) = Ybar - k(2)*s; Y(U) = Ybar + k(2)*s"> -->
   </li>
   <li>\(Y_L = \bar{Y} - k_1 s\)
       <!-- <img ALIGN=ABSCENTER SRC="eqns/ytol2.gif" ALT=
       "Y(L) = Ybar - k(1)*s"> -->
   </li>
   <li>\(Y_U = \bar{Y} + k_1 s\)
       <!-- <img ALIGN=ABSCENTER SRC="eqns/ytol3.gif" ALT=
       "Y(U) = Ybar + k(1)*s"> -->
   </li>
</ol>
where the \(k\)
<!-- <i>k</i>  -->
factors are determined so that the intervals cover at
least a proportion \(p\)
<!-- <i>p</i>  -->
of the population with confidence, \(\gamma\).
<!-- <i>&gamma;<i>. -->
</a>
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Calculation of \(k\) factor for a two-sided tolerance
limit for a normal distribution</i>
</td>

<td VALIGN=TOP WIDTH="85%">
If the data are from a normally distributed population, an
approximate value for the \(k_2\)
<!-- <i>k</i><sub>2</sub> -->
factor as a function of \(p\)
<!-- <i>p</i>  -->
and \(\gamma\)
<!-- <i>&gamma;</i> --> 
for a two-sided tolerance interval 
<a href="../section5/prc5.html#Howe, W. G. (1969)">(Howe, 1969)</a> is

$$ k_2 = \sqrt{\frac{\nu \left(1 + \frac{1}{N}\right) \, z^2_{(1-p)/2}}{\chi^2_{1-\gamma, \, \nu}}} \, , $$

<!--
<p>
<center>
<img SRC="prc263_eq2a.gif" ALT=
"k(2) = SQRT{(nu)*(1+(1/N))*(Z_((1-p)/2)))**2/Chi-Square(1-gamma,nu)}">
</center><p>
-->

where \(\chi_{1-\gamma, \, \nu}^2\)
<!-- <i>&Chi;</i><sup>&nbsp;2</sup><sub>1-<i>&gamma;, &nu;</i></sub>&nbsp;  -->
is the
<a href="../../eda/section3/eda3674.html">critical value of the chi-square
distribution</a> with degrees of freedom \(\nu\)
<!-- <i>&nu;</i>  -->
that is exceeded with probability \(\gamma\),
<!-- <i>&gamma;</i>,  -->
and \(z_{(1-p)/2}\)
<!-- <i><font size=+1>z</font></i><sub>(1-<i>p</i>)/2</sub> -->
is the <a href="../../eda/section3/eda3671.html">critical
value of the normal distribution</a> associated with cummulative
probability \((1-p)/2\).
<!-- (1-<i>p</i>)/2. -->
<p>
The quantity \(\nu\)
<!-- <i>&nu;</i> --> 
represents the degrees of freedom used to
estimate the standard deviation. Most of the time the same sample will
be used to estimate both the mean and standard deviation so that
\(\nu = N-1\),
<!-- <i>&nu;</i> = <i>N</i> - 1, -->
but the formula allows for other possible values of \(\nu\).
<!-- <i>&nu;</i>. -->

</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Example of calculation</i>
</td>

<td VALIGN=TOP WIDTH="85%">
For example, suppose that we take a sample of \(N\)
<!-- <i>N</i> -->
= 43 silicon
wafers from a lot and measure their thicknesses in order to find
tolerance limits within which a proportion \(p\)
<!-- <i>p</i> --> 
= 0.90 of the
wafers in the lot fall with probability \(\gamma\)
<!-- <i>&gamma;</i>  -->
= 0.99. Since the standard deviation, \(s\),
<!-- <i>s</i>, --> 
is computed from the sample of 43 wafers, the degrees of freedom 
are \(\nu = N-1\).
<!-- <i>&nu;</i> = <i>N</i> - 1. -->
</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Use of tables in calculating two-sided tolerance intervals</i>
</td>

<td VALIGN=TOP WIDTH="85%">
Values of the \(k_2\)
<!-- <i>k</i><sub>2</sub> -->
factor as a function of \(p\) and \(\gamma\)
<!-- <i>p</i> and <i>&gamma;</i> -->
are tabulated in some textbooks, such as 
<a href="../section5/prc5.html#Dixon, W.J and Massey, F.J">Dixon and
Massey (1969)</a>.  To use the normal and chi-square tables in this
handbook to approximate the \(k_2\)
<!-- <i>k</i><sub>2</sub> --> 
factor, follow the steps outlined below.
<ol>
   <li>Calculate: \((1-p)/2 = (1-0.9)/2 = 0.05\)
       <!-- (1 - <i>p</i>)/2 = (1 - 0.9)/2 = 0.05 -->
       and \(\nu = N-1 = 43 - 1 = 42\).
       <!-- <i>&nu;</i> = <i>N</i> &minus; 1 = 43 &minus; 1 = 42. -->
       <!--
       <img align="ABSMIDDLE" src="eqns/prc263_eq3.gif" alt=
       "(1 - p)/2 = (1 - 0.9)/2 = 0.05">
       -->
       <p>
   </li>
   <li>Go to the page describing
       <a href="../../eda/section3/eda3671.html">critical values of the
       normal distribution</a>.  In the summary table under the column
       labeled 0.05, find 
       <p>
       \(z_{(1-p)/2} = z_{0.05} = -1.645\).
       <!-- <i><font size=+1>z</font></i><sub>(1 - <i>p</i>)/2</sub> = 
       <i><font size=+1>z</font></i><sub>0.05</sub> = -1.645. -->
       <!--
       <img align="ABSMIDDLE" src="eqns/prc263_eq4.gif" alt=
       "z((1 - p)/2) = z(0.05) = -1.645">.
       -->
   </li>
   <li>Go to the table of <a href="../../eda/section3/eda3674.html">lower
       critical values of the chi-square distribution</a>.  Under the
       column labeled 0.01 in the row labeled degrees of freedom = 42,
       find
       <p>
       \(\chi_{1-\gamma, \, \nu}^2 = \chi_{0.01, \, 42}^2 = 23.650\).
       <!-- <i>&Chi;</i><sup>&nbsp;2</sup><sub>1-<i>&gamma;, &nu;</i></sub> = 
       <i>&Chi;</i><sup>&nbsp;2</sup><sub>0.01, 42</sub> = 23.650. -->
   </li> 
   <li>Calculate

       $$ k_2 = \sqrt{\frac{\nu\left(1 + \frac{1}{N}\right) \, 
          z^2_{(1-p)/2}}{\chi^2_{1-\gamma, \, \nu}}} 
          =\sqrt{\frac{42\left(\frac{44}{43}\right) (-1.645)^2}{23.650}} 
          = 2.217 \, . $$
       <!--
       <center>
       <img SRC="prc263_eq2b.gif" ALT=
       "k(2) = SQRT{nu*(1+(1/N))*Z((1-p)/2)**2)/Chi-Square(1-gamma,nu)} = 
       SQRT{42*(44/43)*(-1.645)**2/23.650} = 2.217" >
       </center>
       -->
   </li>
</ol>
<p>
The tolerance limits are then computed from the sample mean, \(\bar{Y}\),
<!-- <img align=ABSCENTER SRC="eqns/ybar1.gif" ALT="Ybar">, -->
and standard deviation, \(s\),
<!-- <i><font size=+1>s,</font></i> -->
according to <a href="prc253.html#cases">case(1)</a>.
</td>
</tr>


<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Important notes</i>
</td>
<td VALIGN=TOP WIDTH="85%">
The notation for the critical value of the chi-square
distribution can be confusing. Values as tabulated are, in a sense, already
squared; whereas the critical value for the normal distribution must be
squared in the formula above.
<p>
Some software is capable of computing a tolerance intervals for a given 
set of data so that the user does not need to perform all the calculations.
All the tolerance intervals shown in this section can be computed using
both <a href="prc263.dp">Dataplot code</a> and <a href="prc263.r">R code</a>.
In addition, R software is capable of computing an exact value of the 
\(k_2\)
<!-- <i>k</i><sub>2</sub> -->
factor thus replacing the approximation given above.
R and Dataplot examples include the case where a tolerance interval is computed 
automatically from a data set.  
</td>
</tr>


<tr>
<td VALIGN=TOP WIDTH="15%">
<i>Calculation of a one-sided tolerance interval for a normal
distribution</i>
</td>

<td VALIGN=TOP WIDTH="85%">
The calculation of an approximate \(k\)
<!-- <i>k</i> -->
factor for one-sided tolerance
intervals comes directly from the following set of formulas
<a href="../../mpc/section7/mpc7.html#Natrella">(Natrella, 1963)</a>:

$$ \begin{eqnarray}
k_{1} & = & \frac{z_{p} + \sqrt{z_{p}^2 - ab}} {a} \\
      &   & \\
a & = & 1 - \frac{z_{\gamma}^2}{2(N-1)}  \\
      &   & \\
b & = & z_{p}^2 - \frac{ z_{\gamma}^2}{N} \, .
\end{eqnarray} $$

<!--
<p>
<center>
<img SRC="prc263_eq3.gif" ALT=
"k(1) = [z(p) + SQRT((z(p))**2 - a*b]/a;
   a = 1 - (z(gamma))**2/(2*(N-1));  b = (z(p))**2 - (z(gamma))**2/N">
</center>
-->

</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>A one-sided tolerance interval example</i>
</td>

<td VALIGN=TOP WIDTH="85%">
For the example above, it may also be of interest to guarantee with
0.99 probability (or 99 % confidence) that 90 % of the wafers have
thicknesses less than an upper tolerance limit.  This problem falls
under <a href="prc253.html#cases">case (3)</a>.  The calculations
for the \(k_1\)
<!-- <i>k</i><sub>1</sub> -->
factor for a one-sided tolerance interval are:

$$ \begin{eqnarray}
a     & = & 1 - \frac{1}{2(43-1)} \, (2.3263)^2 = 0.9356\\
      &   &    \\
b     & = & (1.2816)^2 - \frac{1}{43} \, (2.3263)^2 = 1.5165\\
      &   &    \\
k_{1} & = & \frac{1.2816 + \sqrt{(1.2816)^2 - (0.9356)(1.5165)}} {0.9356} 
            = 1.8752 \, .
\end{eqnarray} $$

<!--
<p>
<img SRC="prc263_eq4.gif" align=ABSCENTER alt="example">
-->

</td>
</tr>

<tr>
<td VALIGN=TOP WIDTH="15%">
<i>
Tolerance factor based on the non-central \(t\) distribution
</i>
</td>

<td VALIGN=TOP WIDTH="85%">
The value of \(k_1\)
<!-- <i>k</i><sub>1</sub> -->
can also be computed using the
inverse cumulative distribution function for the non-central \(t\)
<!-- <i>t</i> -->
distribution.  This method may give more accurate
results for small values of \(N\).
<!-- <i>N</i>.   -->
The value of \(k_1\)
<!-- <i>k</i><sub>1</sub>  -->
using the non-central \(t\)
<!-- <i>t</i> -->
distribution (using the same example as above) is:

$$ \begin{eqnarray}
\delta & = & z_{p} \sqrt{N} = 1.2816 \sqrt{43} = 8.4037 \\
       &   & \\
k_1    & = & \frac{ t_{\gamma, \, N-1, \, \delta} }{ \sqrt{N} } 
         = \frac{12.28834}{\sqrt{43}} = 1.8740 \, ,
\end{eqnarray} $$

<!--
<p>
<img SRC="prc263_eq5.gif" align=ABSCENTER alt="non-central t example">
<p>
-->

where \(\delta\)
<!-- <i>&delta;</i> -->
is the non-centrality parameter.
<p>
In this case, the difference between the two computations
is negligble (1.8752 versus 1.8740).  However, the difference
becomes more pronounced as the value of \(N\)
<!-- <i>N</i> -->
gets smaller (in particular, for \(N \le\)
<!-- <i>N</i> &le; -->
10).  For example, if \(N\)
<!-- <i>N</i>  -->
= 43 is replaced with \(N\)
<!-- <i>N</i> -->
= 6, the non-central \(t\)
<!-- <i>t</i>  -->
method returns a value of 4.4111 for \(k_1\)
<!-- <i>k</i><sub>1</sub> -->
while the method based on the Natrella formuals returns a value 
of 5.2808.
<!--
The less accurate interval is conservative in the sense that
it generates intervals that may be somewhat wider than they
need to be.
-->
<p>
The disadvantage of the non-central \(t\)
<!-- <i>t</i> -->
method is that it depends on the inverse cumulative distribution 
function for the non-central \(t\)
<!-- <i>t</i> -->
distribution.  This function is not available in many statistical 
and spreadsheet software programs, but it is available in Dataplot and R (see 
<a href="prc263.dp">Dataplot code</a> and <a href="prc263.r">R code</a>).
The Natrella formulas only depend on the inverse cumulative
distribution function for the normal distribution (which is
available in just about all statistical and spreadsheet
software programs).  Unless you have small samples
(say \(N \le\)
<!-- <i>N</i> &le;  -->
10), the difference in the methods should not have much practical effect.

</td>
</tr>












</TABLE>

<IMG SRC="../../gifs/nvgbrbtm.gif" BORDER=0 USEMAP="#nvbar.nvbar">
<map name="nvbar.nvbar">
<area shape="rect" href="http://www.nist.gov/" coords="22,6,67,20">
<area shape="rect" href="http://www.sematech.org/" coords="3,23,92,40">
<area shape="rect" alt="Home" href="../../index-2.html" coords="114,12,165,31">
<area shape="rect" alt="Tools & Aids" href="../../toolaids.html" coords="190,12,290,31">
<area shape="rect" alt="Search Handbook" href="../../search.html" coords="318,14,376,30">
<area shape="rect" alt="Previous Page" href="prc262.html" coords="428,15,471,29">
<area shape="rect" alt="Next Page" href="prc264.html" coords="476,15,517,30">
<area shape="default" nohref>
</map>
   
</BODY>


<!-- Mirrored from www.itl.nist.gov/div898/handbook/prc/section2/prc263.htm by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 17 Feb 2017 22:24:23 GMT -->
</HTML>
